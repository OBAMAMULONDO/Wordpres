<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Victor's WordPress</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="Wordpress">
        <div class="logo">Victor's WordPress</div>
        <i class="fa-solid fa-bars menu-toggle"></i>
        <div class="nav-links">
            <ul>
                <li><a href="#home">Home</a></li>
                <li><a href="#news-container">Latest News</a></li>
                <li><a href="#sports-container">Sports</a></li>
                <li><a href="#politics-container">Politics</a></li>
                <li><a href="#health-container">Health</a></li>
                <li><a href="#entertainment-container">Entertainment</a></li>
                <li><a href="#business-container">Business</a></li>
                <li><a href="#science-container">Science</a></li>
                <li><a href="#tech-container">Technology</a></li>
                <li><a href="#contact-us">Contact us</a></li>
            </ul>
        </div>
    </div>

    <h1>The New Times</h1>
    <div class="card">
        <p>Get the latest news ðŸ“° through Victor's WordPress, Worldly wide advertising NewsPaper, Sports news, etc.</p>
    </div>

    <!-- Search Bar Section -->
    <div class="search-section">
        <form class="search-form" role="search" method="get" action="#">
            <input type="search" name="s" placeholder="Search here..." required>
            <button type="submit"><i class="fa fa-search"></i></button>
        </form>
    </div>

    <!-- Latest News Section -->
    <div id="latest-news">
        <h2>Latest News</h2>
        <div id="news-container"></div>
    </div>

    <!-- Additional News Sections -->
    <div id="sports-news">
        <h2>Sports News</h2>
        <div id="sports-container"></div>
    </div>
    <div id="politics-news">
        <h2>Politics News</h2>
        <div id="politics-container"></div>
    </div>
    <div id="tech-news">
        <h2>Technology News</h2>
        <div id="tech-container"></div>
    </div>
    <div id="health-news">
        <h2>Health News</h2>
        <div id="health-container"></div>
    </div>
    <div id="business-news">
        <h2>Business News</h2>
        <div id="business-container"></div>
    </div>
    <div id="entertainment-news">
        <h2>Entertainment News</h2>
        <div id="entertainment-container"></div>
    </div>
    <div id="science-news">
        <h2>Science News</h2>
        <div id="science-container"></div>
    </div>

    <script>
        const API_KEY = '2bbd2783cd8e4154bed2686e913ca4c6'; // Your NewsAPI key

        // Function to fetch and display the news
        async function fetchNews(category, containerId) {
            const url = `https://newsapi.org/v2/top-headlines?category=${category}&apiKey=${API_KEY}&language=en`;

            try {
                const response = await fetch(url);
                const data = await response.json();
                const container = document.getElementById(containerId);
                container.innerHTML = ''; // Clear previous content

                if (data.articles && data.articles.length > 0) {
                    data.articles.forEach(article => {
                        const articleElement = document.createElement('div');
                        articleElement.classList.add('news-item');
                        articleElement.innerHTML = `
                            <h3 id="article-${article.title}"><a href="${article.url}" target="_blank">${article.title}</a></h3>
                            <p>${article.description}</p>
                            <img src="${article.urlToImage}" alt="News Image" />
                            <p><small>Published: ${new Date(article.publishedAt).toLocaleString()}</small></p>
                        `;
                        container.appendChild(articleElement);
                    });
                } else {
                    container.innerHTML = '<p>No news available.</p>';
                }
            } catch (error) {
                console.error('Error fetching news:', error);
            }
        }

        // Fetch news for different categories
        document.addEventListener('DOMContentLoaded', function () {
            fetchNews('general', 'news-container');
            fetchNews('sports', 'sports-container');
            fetchNews('politics', 'politics-container');
            fetchNews('technology', 'tech-container');
            fetchNews('health', 'health-container');
            fetchNews('business', 'business-container');
            fetchNews('entertainment', 'entertainment-container');
            fetchNews('science', 'science-container');
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener("click", function (e) {
                e.preventDefault();
                const targetElement = document.querySelector(this.getAttribute("href"));
                targetElement.scrollIntoView({
                    behavior: "smooth"
                });
            });
        });

        // Search feature to highlight and scroll to matching news
        const searchInput = document.querySelector('.search-form input[type="search"]');
        searchInput.addEventListener('input', function () {
            const query = searchInput.value.trim().toLowerCase();
            const searchResults = document.querySelector('.search-results');
            if (searchResults) searchResults.remove();

            if (!query) return;

            const resultsBox = document.createElement('div');
            resultsBox.className = 'search-results';
            resultsBox.style.display = 'block';

            let foundAny = false;
            const allArticles = document.querySelectorAll('.news-item h3');
            const alreadyAdded = new Set();

            allArticles.forEach(article => {
                const text = article.textContent.trim().toLowerCase();
                if (text.includes(query) && !alreadyAdded.has(text)) {
                    foundAny = true;
                    const resultItem = document.createElement('p');
                    resultItem.textContent = article.textContent;
                    resultItem.addEventListener('click', function () {
                        article.scrollIntoView({
                            behavior: "smooth"
                        });
                    });
                    resultsBox.appendChild(resultItem);
                    alreadyAdded.add(text);
                }
            });

            if (!foundAny) {
                const noMatch = document.createElement('p');
                noMatch.textContent = `No results found for "${query}".`;
                noMatch.style.color = '#ff4d4d';
                resultsBox.appendChild(noMatch);
            }

            document.querySelector('.search-section').appendChild(resultsBox);
        });
    </script>
</body>
    </html>
